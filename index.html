<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>TinyKing</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="theme-color" content="#00796b">
  <meta name="msapplication-TileColor" content="#4E8071"/>
  
  <link rel="shortcut icon" href="http://weibo.com/favicon.ico" type="image/png">
  <link rel="alternative" href="/atom.xml" title="TinyKing" type="application/atom+xml">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css"> 
</head>


<body>

  <div id="container" class="container">
    <div class="left-col">
    <div class="intrude-less">
  <header id="header" class="inner">
    <a href="/" class="profilepic">
      <img lazy-src="http://ww4.sinaimg.cn/mw690/806e3151jw8f1a2ry7axpj20ro0rpgpt.jpg" class="block-select js-avatar">
	</a>
	<p class="header-subtitle">好好学习，天天向上</p>
    <nav class="header-menu">
      <ul>
        <li><a href="/archives">文章</a></li><li><a href="/tags">标签</a></li><li><a href="/aboutme">关于我</a></li>
      </ul>
    </nav>
  </header>				
</div>


    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  <div class="intrude-less">
    <header id="header" class="inner">
      <a href="/" class="profilepic">
        <img lazy-src="http://ww4.sinaimg.cn/mw690/806e3151jw8f1a2ry7axpj20ro0rpgpt.jpg" class="block-select js-avatar">
	  </a>
	  <p class="header-subtitle">好好学习，天天向上</p>
	  <nav class="header-menu">
	    <ul>
        <li><a href="/archives">文章</a></li><li><a href="/tags">标签</a></li><li><a href="/aboutme">关于我</a></li><div class="clearfix"></div>
		</ul>
	  </nav>
	</header>				
  </div>
</nav>

      <div class="body-wrap">
  
    
<article id="post-about-me" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/05/10/about-me/">关于我</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>我的微博: <a href="http://weibo.com/tinyking86" target="_blank" rel="external">TinyKing</a></p>
<p>我的博客园：<a href="http://www.cnblogs.com/tinyking" target="_blank" rel="external">博客园TinyKing</a></p>
<p>我的51CTO: <a href="http://tinyking.blog.51cto.com" target="_blank" rel="external">TinyKing</a></p>
<p>我的微信：<img src="http://ww1.sinaimg.cn/large/806e3151ly1fffzr8uu0zj20e80e8my0.jpg" alt="TingKiny"></p>

      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-jdk-profile" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/jdk-profile/">Java系列  - JDK环境配置</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h1><p>打开<code>/etc/profile</code>, 添加如下代码：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">export</span> JAVA_HOME=/opt/jdk</div><div class="line"><span class="built_in">export</span> JRE_HOME=<span class="variable">$JAVA_HOME</span>/jre</div><div class="line"><span class="built_in">export</span> CLASSPATH=.:<span class="variable">$JAVA_HOME</span>/lib:<span class="variable">$JRE_HOME</span>/lib</div><div class="line"><span class="built_in">export</span> PATH=<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$PATH</span></div></pre></td></tr></table></figure></p>
<p>执行代码，使配置生效<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">source</span> /etc/profile</div></pre></td></tr></table></figure></p>
<p>安装命令 <strong>需要root权限</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">alternatives --install /usr/bin/java java /opt/jdk/bin/java 1600</div><div class="line">alternatives --install /usr/bin/javac javac /opt/jdk/bin/javac 1600</div></pre></td></tr></table></figure></p>
<h1 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h1><blockquote>
<p>windows下，path路径以<code>;</code>分割，bat变量<code>%JAVA_HOME%</code></p>
</blockquote>

      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-webupload" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/webupload/">Bootstrap模态框使WebUploader点击失效问题解决</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>在使用Bootstrap模态框页面上使用上传组件WebUploader，发现点击失效。</p>
<p>解决方法：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> uploader;</div><div class="line"><span class="comment">//在点击弹出模态框的时候再初始化WebUploader，解决点击上传无反应问题</span></div><div class="line">$(<span class="string">"#myModal"</span>).on(<span class="string">"shown.bs.modal"</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">    uploader = WebUploader.create(&#123;</div><div class="line">        <span class="attr">swf</span> : <span class="string">'/web/public/Uploader.swf'</span>,</div><div class="line">        <span class="attr">server</span> : $(<span class="string">"#jumicontextPath"</span>).val()+<span class="string">'/common/file/upload'</span>,<span class="comment">// 后台路径</span></div><div class="line">        pick : <span class="string">'#filePicker'</span>, <span class="comment">// 选择文件的按钮。可选。内部根据当前运行是创建，可能是input元素，也可能是flash.</span></div><div class="line">        resize : <span class="literal">false</span>,<span class="comment">// 不压缩image, 默认如果是jpeg，文件上传前会压缩一把再上传！</span></div><div class="line">        chunked : <span class="literal">true</span>, <span class="comment">// 是否分片</span></div><div class="line">        duplicate:<span class="literal">true</span>,<span class="comment">//去重， 根据文件名字、文件大小和最后修改时间来生成hash Key.</span></div><div class="line">        chunkSize : <span class="number">52428</span> * <span class="number">100</span>, <span class="comment">// 分片大小， 5M</span></div><div class="line">        <span class="comment">/*    fileSingleSizeLimit:100*1024,//文件大小限制*/</span></div><div class="line">        auto : <span class="literal">true</span>,</div><div class="line">        <span class="comment">// 只允许选择图片文件。</span></div><div class="line">        accept: &#123;</div><div class="line">            <span class="attr">title</span>: <span class="string">'Images'</span>,</div><div class="line">            <span class="attr">extensions</span>: <span class="string">'gif,jpg,jpeg,bmp,png'</span>,</div><div class="line">            <span class="attr">mimeTypes</span>: <span class="string">'image/jpg,image/jpeg,image/png'</span></div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="comment">// 文件上传成功，给item添加成功class, 用样式标记上传成功。</span></div><div class="line">    uploader.on(<span class="string">'uploadSuccess'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">file,response</span>) </span>&#123;</div><div class="line">        <span class="keyword">var</span> fileUrl = response.data.fileUrl;</div><div class="line">        <span class="comment">//TODO</span></div><div class="line">        $(<span class="string">"#responeseText"</span>).text(<span class="string">"上传成功,文件名："</span>+response.data.fileName);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="comment">// 当文件上传出错时触发</span></div><div class="line">    uploader.on(<span class="string">'uploadError'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">file</span>) </span>&#123;</div><div class="line">        $(<span class="string">"#responeseText"</span>).text(<span class="string">"上传失败"</span>);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    <span class="comment">//当validate不通过时触发</span></div><div class="line">    uploader.on(<span class="string">'error'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">type</span>) </span>&#123;</div><div class="line">        <span class="keyword">if</span>(type==<span class="string">"F_EXCEED_SIZE"</span>)&#123;</div><div class="line">            alert(<span class="string">"文件大小不能超过xxx KB!"</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>单单这样也会有问题，这样每次弹出模态框之后都加载一个边框，使按钮越来越大，所以需要在关闭模态框后销毁webuploader</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//关闭模态框销毁WebUploader，解决再次打开模态框时按钮越变越大问题</span></div><div class="line">$(<span class="string">'#myModal'</span>).on(<span class="string">'hide.bs.modal'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">    $(<span class="string">"#responeseText"</span>).text(<span class="string">""</span>);</div><div class="line">    uploader.destroy();</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<hr>
<pre><code>事件    | 描述
---     | ---
</code></pre><p>show.bs.modal    | 在调用 show 方法后触发。<br>shown.bs.modal    | 当模态框对用户可见时触发（将等待 CSS 过渡效果完成）。<br>hide.bs.modal    | 当调用 hide 实例方法时触发。<br>hidden.bs.modal    | 当模态框完全对用户隐藏时触发。</p>

      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-linux-command" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/linux-command/">Linux常用系统命令</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># uname -a # 查看内核/操作系统/CPU信息 </span></div><div class="line"><span class="comment"># head -n 1 /etc/issue # 查看操作系统版本 </span></div><div class="line"><span class="comment"># cat /proc/cpuinfo # 查看CPU信息 </span></div><div class="line"><span class="comment"># hostname # 查看计算机名 </span></div><div class="line"><span class="comment"># lspci -tv # 列出所有PCI设备 </span></div><div class="line"><span class="comment"># lsusb -tv # 列出所有USB设备 </span></div><div class="line"><span class="comment"># lsmod # 列出加载的内核模块 </span></div><div class="line"><span class="comment"># env # 查看环境变量资源 </span></div><div class="line"><span class="comment"># free -m # 查看内存使用量和交换区使用量 </span></div><div class="line"><span class="comment"># df -h # 查看各分区使用情况 </span></div><div class="line"><span class="comment"># du -sh &lt;目录名&gt; # 查看指定目录的大小 </span></div><div class="line"><span class="comment"># grep MemTotal /proc/meminfo # 查看内存总量 </span></div><div class="line"><span class="comment"># grep MemFree /proc/meminfo # 查看空闲内存量 </span></div><div class="line"><span class="comment"># uptime # 查看系统运行时间、用户数、负载 </span></div><div class="line"><span class="comment"># cat /proc/loadavg # 查看系统负载磁盘和分区 </span></div><div class="line"><span class="comment"># mount | column -t # 查看挂接的分区状态 </span></div><div class="line"><span class="comment"># fdisk -l # 查看所有分区 </span></div><div class="line"><span class="comment"># swapon -s # 查看所有交换分区 </span></div><div class="line"><span class="comment"># hdparm -i /dev/hda # 查看磁盘参数(仅适用于IDE设备) </span></div><div class="line"><span class="comment"># dmesg | grep IDE # 查看启动时IDE设备检测状况网络 </span></div><div class="line"><span class="comment"># ifconfig # 查看所有网络接口的属性 </span></div><div class="line"><span class="comment"># iptables -L # 查看防火墙设置 </span></div><div class="line"><span class="comment"># route -n # 查看路由表 </span></div><div class="line"><span class="comment"># netstat -lntp # 查看所有监听端口 </span></div><div class="line"><span class="comment"># netstat -antp # 查看所有已经建立的连接 </span></div><div class="line"><span class="comment"># netstat -s # 查看网络统计信息进程 </span></div><div class="line"><span class="comment"># ps -ef # 查看所有进程 </span></div><div class="line"><span class="comment"># top # 实时显示进程状态用户 </span></div><div class="line"><span class="comment"># w # 查看活动用户 </span></div><div class="line"><span class="comment"># id &lt;用户名&gt; # 查看指定用户信息 </span></div><div class="line"><span class="comment"># last # 查看用户登录日志 </span></div><div class="line"><span class="comment"># cut -d: -f1 /etc/passwd # 查看系统所有用户 </span></div><div class="line"><span class="comment"># cut -d: -f1 /etc/group # 查看系统所有组 </span></div><div class="line"><span class="comment"># crontab -l # 查看当前用户的计划任务服务 </span></div><div class="line"><span class="comment"># chkconfig –list # 列出所有系统服务 </span></div><div class="line"><span class="comment"># chkconfig –list | grep on # 列出所有启动的系统服务程序 </span></div><div class="line"><span class="comment"># rpm -qa # 查看所有安装的软件包</span></div></pre></td></tr></table></figure>
      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-firewalld" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/firewalld/">CentOS7使用firewalld打开关闭防火墙与端口</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1、firewalld的基本使用</p>
<p>启动： systemctl start firewalld</p>
<p>查看状态： systemctl status firewalld </p>
<p>停止： systemctl disable firewalld</p>
<p>禁用： systemctl stop firewalld</p>
<p>2.systemctl是CentOS7的服务管理工具中主要的工具，它融合之前service和chkconfig的功能于一体。</p>
<p>启动一个服务：systemctl start firewalld.service</p>
<p>关闭一个服务：systemctl stop firewalld.service</p>
<p>重启一个服务：systemctl restart firewalld.service</p>
<p>显示一个服务的状态：systemctl status firewalld.service</p>
<p>在开机时启用一个服务：systemctl enable firewalld.service</p>
<p>在开机时禁用一个服务：systemctl disable firewalld.service</p>
<p>查看服务是否开机启动：systemctl is-enabled firewalld.service</p>
<p>查看已启动的服务列表：systemctl list-unit-files|grep enabled</p>
<p>查看启动失败的服务列表：systemctl –failed</p>
<p>3.配置firewalld-cmd</p>
<p>查看版本： firewall-cmd –version</p>
<p>查看帮助： firewall-cmd –help</p>
<p>显示状态： firewall-cmd –state</p>
<p>查看所有打开的端口： firewall-cmd<br>–zone=public –list-ports</p>
<p>更新防火墙规则： firewall-cmd –reload</p>
<p>查看区域信息:  firewall-cmd<br>–get-active-zones</p>
<p>查看指定接口所属区域： firewall-cmd<br>–get-zone-of-interface=eth0</p>
<p>拒绝所有包：firewall-cmd –panic-on</p>
<p>取消拒绝状态： firewall-cmd –panic-off</p>
<p>查看是否拒绝： firewall-cmd –query-panic</p>
<p>那怎么开启一个端口呢<br>添加</p>
<p>firewall-cmd –zone=public<br>–add-port=80/tcp –permanent<br>（–permanent永久生效，没有此参数重启后失<br>效）</p>
<p>重新载入</p>
<p>firewall-cmd –reload</p>
<p>查看</p>
<p>firewall-cmd –zone= public<br>–query-port=80/tcp</p>
<p>删除</p>
<p>firewall-cmd –zone= public<br>–remove-port=80/tcp –permanent</p>

      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-mysql-password" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/mysql-password/">MySQL修改root密码的多种方法</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>方法1： 用SET PASSWORD命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">　　mysql -u root</div><div class="line">　　mysql&gt; SET PASSWORD FOR &apos;root&apos;@&apos;localhost&apos; = PASSWORD(&apos;newpass&apos;);</div></pre></td></tr></table></figure></p>
<p>方法2：用mysqladmin<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">　　mysqladmin -u root password &quot;newpass&quot;</div><div class="line">　　如果root已经设置过密码，采用如下方法</div><div class="line">　　mysqladmin -u root password oldpass &quot;newpass&quot;</div></pre></td></tr></table></figure></p>
<p>方法3： 用UPDATE直接编辑user表<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">　　mysql -u root</div><div class="line">　　mysql&gt; use mysql;</div><div class="line">　　mysql&gt; UPDATE user SET Password = PASSWORD(&apos;newpass&apos;) WHERE user = &apos;root&apos;;</div><div class="line">　　mysql&gt; FLUSH PRIVILEGES;</div></pre></td></tr></table></figure></p>
<p>在丢失root密码的时候，可以这样<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">　　mysqld_safe --skip-grant-tables&amp;</div><div class="line">　　mysql -u root mysql</div><div class="line">　　mysql&gt; UPDATE user SET password=PASSWORD(&quot;new password&quot;) WHERE user=&apos;root&apos;;</div><div class="line">　　mysql&gt; FLUSH PRIVILEGES;</div></pre></td></tr></table></figure></p>

      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-javascript-rule" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/javascript-rule/">JavaScript编程规范</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h2><p>JavaScript是一种客户端脚本语言，Web工程都会用到它，这份指南列出了编写JavaScript时需要遵守的规则。</p>
<h2 id="JavaScript语言规范"><a href="#JavaScript语言规范" class="headerlink" title="JavaScript语言规范"></a>JavaScript语言规范</h2><h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>声明变量必须加上var<br>关键字:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var a1 = 1;</div><div class="line">var b1 = 11;</div></pre></td></tr></table></figure></p>
<p>当你没有写var<br>，变量就会暴露在全局上下文中，这样很可能会和现有的变量冲突。另外，如果没有加上，很难明确该变量的作用域是什么，变量很可能在局部作用域中，很容易泄漏到Document或者Window中，所以务必用var<br>变量。</p>
<h3 id="常量"><a href="#常量" class="headerlink" title="常量"></a>常量</h3><p>常量的形式如：<code>NAMES_LIKE_THIS</code>，即使用大写字符，并用下划线分割，你也可用<code>@const</code>标记来指明它是一个常量，但请不要使用<code>const</code>关键字。<br>对于基本类型的常量，只需要转换命名：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * The number of seconds of minute.</div><div class="line"> * @type &#123;number&#125;</div><div class="line"> */</div><div class="line">eflag.example.SECONDES_IN_A_MINUTE = 60;</div></pre></td></tr></table></figure></p>
<p>对于非基本类型，使用<code>@const</code><br>标记：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * The number of seconds in each of the given units.</div><div class="line"> * @type &#123;Object.&lt;number&gt;&#125;</div><div class="line"> * @const</div><div class="line"> */</div><div class="line">eflag.example.SECONDS_TABLE = &#123;minute: 60,hour: 60 * 60,day: 60 * 60 * 24&#125;</div></pre></td></tr></table></figure></p>
<p>至于关键字<code>const</code>，因为IE不能识别，所以不要使用。</p>
<h3 id="分号"><a href="#分号" class="headerlink" title="分号"></a>分号</h3><p>总是使用分号。 如果仅依靠语句间的隐式分割，有时会很麻烦，使用分号，你自己更能清楚那里是语句的起止。<br>行末分号：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">var foo = 1,bar = 2,baz = 3;</div><div class="line">var obj = &#123;foo: 1,bar: 2,baz: 3&#125;;</div></pre></td></tr></table></figure></p>
<h3 id="单引号-39-39-和双引号-quot-quot"><a href="#单引号-39-39-和双引号-quot-quot" class="headerlink" title="单引号(&#39;&#39;)和双引号(&quot;&quot;)"></a>单引号(<code>&#39;&#39;</code>)和双引号(<code>&quot;&quot;</code>)</h3><p>由于JavaScript对于单引号和双引号都可以识别为字符串，但为了统一规范，所以在JavaScript中字符串的定义要求使用单引号：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var val = &apos;a&apos;;</div></pre></td></tr></table></figure></p>
<p>同样，html中属性使用的是双引号：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;input type=&quot;text&quot;&gt;</div></pre></td></tr></table></figure></p>
<p>在JavaScript中动态生成html标签时：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var _input = &apos;&lt;input type=&quot;text&quot;&gt;&apos;;</div></pre></td></tr></table></figure></p>
<h3 id="空格"><a href="#空格" class="headerlink" title="空格"></a>空格</h3><p>参数和括号间五空格：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">function fn(arg1, arg2)&#123;&#125;</div></pre></td></tr></table></figure></p>
<p>冒号后面有空格<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;foo: 1,bar: 2,baz: 3&#125;</div></pre></td></tr></table></figure></p>
<p>条件语句有空格<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if (true) &#123;&#125;</div><div class="line">while (true) &#123;&#125;</div><div class="line">switch(v)&#123;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="Tips-and-Tricks"><a href="#Tips-and-Tricks" class="headerlink" title="Tips and Tricks"></a>Tips and Tricks</h3><h3 id="True和False布尔表达式"><a href="#True和False布尔表达式" class="headerlink" title="True和False布尔表达式"></a>True和False布尔表达式</h3><p>下面的布尔表达式都会返回<code>false</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">null</div><div class="line">undefined</div><div class="line">&apos;&apos;</div><div class="line">空字符串</div><div class="line">0</div></pre></td></tr></table></figure></p>
<p>数字<code>0</code> 但小心下面的，可都返回<code>true</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&apos;0&apos;</div><div class="line">字符串0</div><div class="line">[]</div><div class="line">空数组</div><div class="line">&#123;&#125;</div><div class="line">空对象</div></pre></td></tr></table></figure></p>
<p>如果你想检查字符串是否为<code>null</code>或<code>空</code>：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if (y != null &amp;&amp; y != &apos;&apos;) &#123;&#125;</div></pre></td></tr></table></figure></p>
<p>写成这样会更好：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">if (y) &#123;&#125;</div></pre></td></tr></table></figure></p>
<h3 id="条件（三元）操作符"><a href="#条件（三元）操作符" class="headerlink" title="条件（三元）操作符(?:)"></a>条件（三元）操作符(<code>?:</code>)</h3><p>三元操作符用于替代下面的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if (val != 0) &#123;</div><div class="line">  return foo();</div><div class="line">&#125; else &#123;</div><div class="line">  return bar();</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>你可以写成：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">return val ? foo() : bar();</div></pre></td></tr></table></figure></p>
<p>在生成HTML代码时也是很有用的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var html = &apos;&lt;input type=&quot;checkbox&quot;&apos; + (isChecked ? &apos; checked&apos; : &apos;&apos;)+ (isEnabled ? &apos;&apos; : &apos; disabled&apos;)+ &apos; name=&quot;foo&quot;&gt;&apos;;</div></pre></td></tr></table></figure></p>
<h3 id="amp-amp-和"><a href="#amp-amp-和" class="headerlink" title="&amp;&amp;和||"></a><code>&amp;&amp;</code>和<code>||</code></h3><p>二元布尔操作符是可短路的，只有在必要的时候才会计算到最后一项。 <code>||</code>被称作为<code>default</code>操作符，因为可以这样：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * @param &#123;*=&#125; opt_win</div><div class="line"> */</div><div class="line">function foo(opt_win) &#123;</div><div class="line">  var win;</div><div class="line">  if (opt_win) &#123;</div><div class="line">    win = opt_win;</div><div class="line">  &#125; else &#123;</div><div class="line">    win = window;</div><div class="line">  &#125;</div><div class="line">// ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>你可以使用它来简化上面的代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * @param &#123;*=&#125; opt_win</div><div class="line"> */</div><div class="line">function foo(opt_win) &#123;</div><div class="line">  var win = opt_win || window;</div><div class="line">  // ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="使用join-来创建字符串"><a href="#使用join-来创建字符串" class="headerlink" title="使用join()来创建字符串"></a>使用<code>join()</code>来创建字符串</h3><p>通常是这样使用的：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">function listHtml(items) &#123;</div><div class="line">  var html = &apos;&lt;div class=&quot;foo&quot;&apos;;</div><div class="line">  for (var i = 0; i &lt; items.length; i++) &#123;</div><div class="line">    if (i &gt; 0) &#123;</div><div class="line">      html += &apos;,&apos;;</div><div class="line">    &#125;</div><div class="line">    html += itemHtml(items[i]);</div><div class="line">  &#125;</div><div class="line">  html += &apos;&lt;/div&gt;&apos;;</div><div class="line">  return html;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>但这样在IE下非常慢，可以用下面的方式：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">function listHtml(items) &#123;</div><div class="line">  var html = [];</div><div class="line">  for (var i = 0; i &lt; items.length; i++) &#123;</div><div class="line">    html[i] = itemHtml(items[i]);</div><div class="line">  &#125;</div><div class="line">  return &apos;&lt;div class=&quot;foo&quot;&gt;&apos; + html.join(&apos;, &apos;) + &apos;&lt;/div&gt;&apos;;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>你也可以使用数组作为字符串构造器，然后通过<code>myArray.join(&#39;&#39;)</code><br>转换成字符串，不过由于赋值操作快于数组的<code>push()</code>，所以尽量使用复制操作。</p>

      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-Keepalived" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/Keepalived/">Keepalived 简单配置</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>参考文档 <a href="http://wenku.baidu.com/view/8e38022d2af90242a895e532.html" target="_blank" rel="external">http://wenku.baidu.com/view/8e38022d2af90242a895e532.html</a></p>
</blockquote>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>解压文件<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">tar -xvf keepalived-x.x.x.tar.gz</div></pre></td></tr></table></figure></p>
<p>进入文件夹<code>keepalived-x.x.x</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">./configure</div><div class="line"></div><div class="line">make &amp;&amp; make install</div></pre></td></tr></table></figure>
<p>在安装过程中需要注意以下几点：</p>
<ul>
<li>gcc环境</li>
<li>openssl环境</li>
<li>root权限</li>
</ul>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># cp /usr/local/etc/rc.d/init.d/keepalived /etc/rc.d/init.d/ </span></div><div class="line"><span class="comment"># cp /usr/local/etc/sysconfig/keepalived /etc/sysconfig/ </span></div><div class="line"><span class="comment"># mkdir /etc/keepalived  </span></div><div class="line"><span class="comment"># cp /usr/local/etc/keepalived/keepalived.conf /etc/keepalived/ </span></div><div class="line"><span class="comment"># cp /usr/local/sbin/keepalived /usr/sbin/</span></div></pre></td></tr></table></figure>
<p>做成系统启动服务方便管理. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># vi /etc/rc.local   </span></div><div class="line">/etc/init.d/keepalived start</div></pre></td></tr></table></figure>
<p>增加上面一行。</p>
<p>修改配置<code>/etc/keepalived/keepalived.conf</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">! Configuation File for keepalived</div><div class="line"></div><div class="line">global_defs &#123;</div><div class="line">    notification_email &#123;</div><div class="line">        acassen@firewall.loc    # 邮件地址，当异常时发邮件通知。可以是多个，每个一行</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">    notification_email_from Alexandre.Cassen@firewall.loc</div><div class="line">    smtp_server 192.168.200.1</div><div class="line">    smtp_connect_timeout 30</div><div class="line">    router_id LVS_DEVEL</div><div class="line">    vrrp_skip_check_adv_addr</div><div class="line">    vrrp_strict</div><div class="line">&#125;</div><div class="line"></div><div class="line">vrrp_instance VI_1 &#123;</div><div class="line">    state MASTER    # 从机设为BACKUP</div><div class="line">    interface   eth0   # 网卡接口</div><div class="line">    mcast_src_ip 10.0.0.131  # 默认没有这项，加上这项后服务好用了</div><div class="line">    priority  100  # 优先级，从机小与主机</div><div class="line">    advert_int 1  </div><div class="line">    authentication &#123;</div><div class="line">        auth_type PASS</div><div class="line">        auth_pass 1111</div><div class="line">    &#125;</div><div class="line">    virtual_ipaddress &#123;</div><div class="line">        10.0.0.111   # 虚拟ip设置，可以是多个，主从一致</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-linux-profile" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/linux-profile/">Linux环境变量配置</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>不论使用Linux开发，还是使用Linux生产，都不可避免环境变量的配置。通常都是去修改系统文件：<code>/etc/profile</code>, <code>/etc/enviroment</code>, <code>~/.bashrc</code>, <code>~/.profile</code>等等，在这些文件的末尾<code>export</code>上自己想要添加的环境变量，<code>source</code>一下该文件，配置就立刻生效了。</p>
<p>今天通过阅读<code>/etc/profile</code>文件：<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> /etc/profile: system-wide .profile file <span class="keyword">for</span> the Bourne shell (sh(1))</span></div><div class="line"><span class="meta">#</span><span class="bash"> and Bourne compatible shells (bash(1), ksh(1), ash(1), ...).</span></div><div class="line"></div><div class="line">if [ "`id -u`" -eq 0 ]; then</div><div class="line">  PATH="/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"</div><div class="line">else</div><div class="line">  PATH="/usr/local/bin:/usr/bin:/bin:/usr/local/games:/usr/games"</div><div class="line">fi</div><div class="line">export PATH</div><div class="line"></div><div class="line">if [ "$PS1" ]; then</div><div class="line">  if [ "$BASH" ] &amp;&amp; [ "$BASH" != "/bin/sh" ]; then</div><div class="line">    # The file bash.bashrc already sets the default PS1.</div><div class="line">    # PS1='\h:\w\$ '</div><div class="line">    if [ -f /etc/bash.bashrc ]; then</div><div class="line">      . /etc/bash.bashrc</div><div class="line">    fi</div><div class="line">  else</div><div class="line">    if [ "`id -u`" -eq 0 ]; then</div><div class="line">      PS1='# '</div><div class="line">    else</div><div class="line">      PS1='$ '</div><div class="line">    fi</div><div class="line">  fi</div><div class="line">fi</div><div class="line"></div><div class="line">if [ -d /etc/profile.d ]; then</div><div class="line">  for i in /etc/profile.d/*.sh; do</div><div class="line">    if [ -r $i ]; then</div><div class="line">      . $i</div><div class="line">    fi</div><div class="line">  done</div><div class="line">  unset i</div><div class="line">fi</div></pre></td></tr></table></figure></p>
<p>发现最后一个<code>for</code>循环，其作用是搜用<code>/etc/profile.d</code>下的所有的<code>.sh</code>结尾的可执行文件，并运行。<br>因此，我们就可以根据不同的功能编写不同的可执行文件，将他们放到<code>/etc/profile.d</code>下，如<code>jdk.sh</code>，<code>ant.sh</code>，<code>maven.sh</code>等等。</p>

      
      
      
    </div>
    
  </div>
  
</article>





  
    
<article id="post-logback-xml" class="article article-type-post" itemscope itemprop="blogPost">

   
    
  
  <div class="article-inner block-select">
  
    
    
      <header class="article-header">
        
           
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/04/21/logback-xml/">Logback配置文件</a>
    </h1>
  

        
      </header>
      
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 定义变量 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOG_HOME"</span> <span class="attr">value</span>=<span class="string">"/mnt/raid5/log/web"</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOG_DEBUG_HOME"</span> <span class="attr">value</span>=<span class="string">"$&#123;LOG_HOME&#125;/debug"</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOG_INFO_HOME"</span> <span class="attr">value</span>=<span class="string">"$&#123;LOG_HOME&#125;/info"</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOG_WARN_HOME"</span> <span class="attr">value</span>=<span class="string">"$&#123;LOG_HOME&#125;/warn"</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"LOG_ERROR_HOME"</span> <span class="attr">value</span>=<span class="string">"$&#123;LOG_HOME&#125;/error"</span> /&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">	<span class="comment">&lt;!-- 控制台输出 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"STDOUT"</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.ConsoleAppender"</span>&gt;</span></div><div class="line">		<span class="comment">&lt;!-- 日志输出编码 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">Encoding</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.PatternLayout"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 格式化输出: %d表示日期, %thread表示线程名, %-5level:级别从左显示5个字符宽度, %msg:日志消息, %n换行符 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">pattern</span>&gt;</span>[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] %level [%thread] %logger&#123;36&#125; %X&#123;medic.eventCode&#125; %msg %ex%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">appender</span>&gt;</span></div><div class="line"></div><div class="line">	<span class="comment">&lt;!-- DEBUG输出 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"FILE_DEBUG"</span></span></div><div class="line">		<span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</div><div class="line">		<span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;LOG_DEBUG_HOME&#125;/debug.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">Encoding</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 日志文件输出的文件名 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">FileNamePattern</span>&gt;</span>$&#123;LOG_DEBUG_HOME&#125;/debug.%d&#123;yyyy-MM-dd&#125;.log<span class="tag">&lt;/<span class="name">FileNamePattern</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">MaxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">MaxHistory</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.PatternLayout"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 格式化输出: %d表示日期, %thread表示线程名, %-5level:级别从左显示5个字符宽度, %msg:日志消息, %n换行符 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">pattern</span>&gt;</span>[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] %level [%thread] %logger&#123;36&#125; %X&#123;medic.eventCode&#125; %msg %ex%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="comment">&lt;!--日志文件最大的大小 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">triggeringPolicy</span></span></div><div class="line">			<span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"</span>&gt;</div><div class="line">			<span class="tag">&lt;<span class="name">MaxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">MaxFileSize</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">triggeringPolicy</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="comment">&lt;!-- &lt;filter class="ch.qos.logback.classic.filter.LevelFilter"&gt;</span></div><div class="line">			&lt;level&gt;DEBUG&lt;/level&gt;</div><div class="line">			&lt;onMatch&gt;ACCEPT&lt;/onMatch&gt;</div><div class="line">			&lt;onMismatch&gt;DENY&lt;/onMismatch&gt;</div><div class="line">		&lt;/filter&gt; --&gt;</div><div class="line">	<span class="tag">&lt;/<span class="name">appender</span>&gt;</span></div><div class="line">	</div><div class="line">	<span class="comment">&lt;!-- INFO输出 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"FILE_INFO"</span></span></div><div class="line">		<span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</div><div class="line">		<span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;LOG_INFO_HOME&#125;/info.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">Encoding</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 日志文件输出的文件名 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">FileNamePattern</span>&gt;</span>$&#123;LOG_INFO_HOME&#125;/info.%d&#123;yyyy-MM-dd&#125;.log<span class="tag">&lt;/<span class="name">FileNamePattern</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">MaxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">MaxHistory</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.PatternLayout"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 格式化输出: %d表示日期, %thread表示线程名, %-5level:级别从左显示5个字符宽度, %msg:日志消息, %n换行符 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">pattern</span>&gt;</span>[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] %level [%thread] %logger&#123;36&#125; %X&#123;medic.eventCode&#125; %msg %ex%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="comment">&lt;!--日志文件最大的大小 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">triggeringPolicy</span></span></div><div class="line">			<span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"</span>&gt;</div><div class="line">			<span class="tag">&lt;<span class="name">MaxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">MaxFileSize</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">triggeringPolicy</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">level</span>&gt;</span>INFO<span class="tag">&lt;/<span class="name">level</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">appender</span>&gt;</span></div><div class="line">	</div><div class="line">	<span class="comment">&lt;!-- WARN输出 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"FILE_WARN"</span></span></div><div class="line">		<span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</div><div class="line">		<span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;LOG_WARN_HOME&#125;/warn.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">Encoding</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 日志文件输出的文件名 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">FileNamePattern</span>&gt;</span>$&#123;LOG_WARN_HOME&#125;/warn.%d&#123;yyyy-MM-dd&#125;.log<span class="tag">&lt;/<span class="name">FileNamePattern</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">MaxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">MaxHistory</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.PatternLayout"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 格式化输出: %d表示日期, %thread表示线程名, %-5level:级别从左显示5个字符宽度, %msg:日志消息, %n换行符 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">pattern</span>&gt;</span>[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] %level [%thread] %logger&#123;36&#125; %X&#123;medic.eventCode&#125; %msg %ex%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="comment">&lt;!--日志文件最大的大小 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">triggeringPolicy</span></span></div><div class="line">			<span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"</span>&gt;</div><div class="line">			<span class="tag">&lt;<span class="name">MaxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">MaxFileSize</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">triggeringPolicy</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">level</span>&gt;</span>WARN<span class="tag">&lt;/<span class="name">level</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">appender</span>&gt;</span></div><div class="line">	</div><div class="line">	<span class="comment">&lt;!-- ERROR输出 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">"FILE_ERROR"</span></span></div><div class="line">		<span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.RollingFileAppender"</span>&gt;</div><div class="line">		<span class="tag">&lt;<span class="name">file</span>&gt;</span>$&#123;LOG_ERROR_HOME&#125;/error.log<span class="tag">&lt;/<span class="name">file</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">Encoding</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">Encoding</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">rollingPolicy</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.TimeBasedRollingPolicy"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 日志文件输出的文件名 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">FileNamePattern</span>&gt;</span>$&#123;LOG_ERROR_HOME&#125;/error.%d&#123;yyyy-MM-dd&#125;.log<span class="tag">&lt;/<span class="name">FileNamePattern</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">MaxHistory</span>&gt;</span>30<span class="tag">&lt;/<span class="name">MaxHistory</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">rollingPolicy</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">layout</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.PatternLayout"</span>&gt;</span></div><div class="line">			<span class="comment">&lt;!-- 格式化输出: %d表示日期, %thread表示线程名, %-5level:级别从左显示5个字符宽度, %msg:日志消息, %n换行符 --&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">pattern</span>&gt;</span>[%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125;] %level [%thread] %logger&#123;36&#125; %X&#123;medic.eventCode&#125; %msg %ex%n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">layout</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="comment">&lt;!--日志文件最大的大小 --&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">triggeringPolicy</span></span></div><div class="line">			<span class="attr">class</span>=<span class="string">"ch.qos.logback.core.rolling.SizeBasedTriggeringPolicy"</span>&gt;</div><div class="line">			<span class="tag">&lt;<span class="name">MaxFileSize</span>&gt;</span>100MB<span class="tag">&lt;/<span class="name">MaxFileSize</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">triggeringPolicy</span>&gt;</span></div><div class="line"></div><div class="line">		<span class="tag">&lt;<span class="name">filter</span> <span class="attr">class</span>=<span class="string">"ch.qos.logback.classic.filter.LevelFilter"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">level</span>&gt;</span>ERROR<span class="tag">&lt;/<span class="name">level</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">onMatch</span>&gt;</span>ACCEPT<span class="tag">&lt;/<span class="name">onMatch</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">onMismatch</span>&gt;</span>DENY<span class="tag">&lt;/<span class="name">onMismatch</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">filter</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">appender</span>&gt;</span></div><div class="line"></div><div class="line"></div><div class="line">	<span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">"DEBUG"</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"STDOUT"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"FILE_DEBUG"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"FILE_INFO"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"FILE_WARN"</span> /&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">"FILE_ERROR"</span> /&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">root</span>&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></div></pre></td></tr></table></figure>
      
      
      
    </div>
    
  </div>
  
</article>





  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
    </nav>
  

</div>
      <footer id="footer" class="block-select">
  <div class="outer">
    <div id="footer-info">
      <div class="footer-left">&copy; 2015-2017
        <a href="/aboutme/" class ="aboutme-foot-tag"> TinyKing</a>
      </div>
    </div>
  </div>
  
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?7f5889a162b9ce28e17ffd275a476161";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
</footer>

    </div>
    <script>
	var ThemeXConfig = {fancybox: false,mathjax: false,animate: true,isHome: true,isPost: false,isArchive: false,isTag: false,isCategory: false,open_in_new: false, CDN_PATH: '' }
</script>


    <script src="/js/jquery-1.9.1.min.js"></script>
    <script src="/js/base.js"></script>
    <script src="/js/jquery.lazyload.min.js"></script>





  </div>
</body>
</html>
